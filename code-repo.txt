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

terraform - Terraform-2023

Access Key: AKIA4HJQW3FOUQPGDTWQ
Secret Access Key: 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

aws configure
aws iam list-users

ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';



### Install and Downgrade PHP
- dnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
- dnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm
- dnf makecache
- dnf install -y httpd
- sudo a2dismod php5.6     To disable current version
- sudo a2enmod php8.0    To enable 
- sudo service apache2 restart

### Install and Downgrade PHP

1. Stop the Apache service sudo systemctl stop httpd
2. Remove the installed PHP packages sudo yum remove php* 
3. Download the PHP 7.4 package wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm 
4. Install the EPEL package sudo yum install epel-release-latest-7.noarch.rpm 
5. Install PHP 7.4 sudo yum install php74-php 
6. Start Apache service sudo systemctl start httpd 
7. Check the version of the installed PHP php -v

###  This system is not registered with an entitlement server. You can use subscription-manager to register.”

- sudo nano /etc/yum/pluginconf.d/subscription-manager.conf
- change enabled to 0 and save the file enabled=0
- yum clean all
- sudo yum install php


Skill sets for DevOps Engineer

1-Version Control
2-Linux
3-Coding - Phyton
4-Agile Develpoment- Scrum
5-Operations
6-Dockers / Kubernetes
7-Infrastructure code - Terraform
8-Ansible
9-Jenkins
10-Monitoring tools 
11-Databases

roles_path = ./roles
roles_path = ./roles

ansible-playbook playbooks/site.yml -i inventory/dev.yml
git push --set-upstream origin feature/jenkinspipeline-stages
ansiblePlaybook become: true, credentialsId: 'private-key', disableHostKeyChecking: true, installation: 'ansible', inventory: 'inventory/${inventory}', playbook: 'playbooks/site.yml'

[todo]
172.31.6.147 ansible_ssh_user='ec2-user'


https://www.youtube.com/watch?v=eYrZcUwb3Yk&t=282s

https://github.com/Livingstone95/devops-exercises

Deposit wallet 7834731

0641989866

================Generating SSH Agent key============

ssh-keygen -t ed25519
# Set the sshd service to be started automatically
Get-Service -Name sshd | Set-Service -StartupType Automatic

# Now start the sshd service
Start-Service sshd

++++++++++++Add newkey.pem to the keygen++++++++++++
ssh-add imayorstudios.pem
ssh-add -l

===============Get and Add SSH===============================

Add-WindowsCapability –Online –Name OpenSSH.Client~~~~0.0.1.0
Get-WindowsCapability –Online  | Where-object Name –like ‘openSSH*’

====================================================
##Listen to ports
sudo lsof -i -n -P | grep LISTEN


## Display IPV4 rules
sudo iptablea-save





########################################

pipeline {
  agent any
  stages {
    stage('Initial cleanup') {
      steps {
        dir(path: "${WORKSPACE}") {
          deleteDir()
        }

      }
    }

    stage('Checkout SCM') {
      steps {
        git(branch: 'main', url: 'https://github.com/meetmayowa/php-todo.git')
      }
    }

    stage('Prepare Dependencies') {
      steps {
        sh 'mv .env.sample .env'
        sh 'composer install'
        sh 'php artisan migrate'
        sh 'php artisan db:seed'
        sh 'php artisan key:generate'
      }
    }

    stage('Execute Unit Tests'){
     steps {
             sh './vendor/bin/phpunit'
     }
    }

  }
}



